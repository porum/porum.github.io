<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head>

    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!--Description-->

    

    
        <meta name="description" content="1. èƒŒæ™¯ï¼šæœ€è¿‘åœ¨ç»™æ–°é¡¹ç›®é…ç½®æ··æ·†æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªå´©æºƒçš„é—®é¢˜ï¼Œä¸€æ‰“å¼€æŸä¸ª Activity å°±å´©æºƒï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹åˆ†æçš„è¿‡ç¨‹ã€‚
crash å…³é”®å †æ ˆä¿¡æ¯å¦‚ä¸‹ï¼š
123Caused by: java.lang.ClassCastException: java.lang.Class cannot be ca"/>
    

    <!--Author-->
    
        <meta name="author" content="porum"/>
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="ä½¿ç”¨ ViewBinding æ··æ·†å APP ç‚¸äº†ï¼Ÿ"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="1. èƒŒæ™¯ï¼šæœ€è¿‘åœ¨ç»™æ–°é¡¹ç›®é…ç½®æ··æ·†æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªå´©æºƒçš„é—®é¢˜ï¼Œä¸€æ‰“å¼€æŸä¸ª Activity å°±å´©æºƒï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹åˆ†æçš„è¿‡ç¨‹ã€‚
crash å…³é”®å †æ ˆä¿¡æ¯å¦‚ä¸‹ï¼š
123Caused by: java.lang.ClassCastException: java.lang.Class cannot be ca"/>
    

    <!--Open Graph Site Name-->
        <meta property="og:site_name" content="porum"/>

    <!--Type page-->
    
        <meta property="og:type" content="article"/>
    

    <!--Page Cover-->
    
    
        <meta property="og:image" content="http://www.panda912.comimg/home-bg.jpg"/>
    

        <meta name="twitter:card" content="summary_large_image"/>

    

    
        <meta name="twitter:image" content="http://www.panda912.comimg/home-bg.jpg"/>
    

    <!-- Title -->
    
    <title>ä½¿ç”¨ ViewBinding æ··æ·†å APP ç‚¸äº†ï¼Ÿ - porum</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet"/>

    <!-- Google Analytics -->
    


    <!-- favicon -->
    

<meta name="generator" content="Hexo 6.2.0"></head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">porum</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            
                                Categories
                            
                        </a>
                    </li>
                
                    <li>
                        <a target="_blank" rel="noopener" href="https://github.com/porum">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>ä½¿ç”¨ ViewBinding æ··æ·†å APP ç‚¸äº†ï¼Ÿ</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            2022-08-19
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/æ··æ·†/">#æ··æ·†</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h2 id="1-èƒŒæ™¯ï¼š"><a href="#1-èƒŒæ™¯ï¼š" class="headerlink" title="1. èƒŒæ™¯ï¼š"></a>1. èƒŒæ™¯ï¼š</h2><p>æœ€è¿‘åœ¨ç»™æ–°é¡¹ç›®é…ç½®æ··æ·†æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªå´©æºƒçš„é—®é¢˜ï¼Œä¸€æ‰“å¼€æŸä¸ª Activity å°±å´©æºƒï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹åˆ†æçš„è¿‡ç¨‹ã€‚</p>
<p>crash å…³é”®å †æ ˆä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Caused by: java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</span><br><span class="line">        at com.ecovacs.proguardtest.BaseBindingActivity.onCreate(BaseBindingActivity.kt:16)</span><br><span class="line">        at com.ecovacs.proguardtest.MainActivity.onCreate(MainActivity.kt:11)</span><br></pre></td></tr></table></figure>

<p>é¡¹ç›®æ„å»ºåŸºäº AGP 7.2.0ï¼ŒGradle 7.3.3ï¼Œå¼€å¯äº† R8 fullModeã€‚</p>
<h2 id="2-åˆ†æï¼š"><a href="#2-åˆ†æï¼š" class="headerlink" title="2. åˆ†æï¼š"></a>2. åˆ†æï¼š</h2><p>å´©æºƒå‘ç”Ÿçš„ä½ç½®åœ¨ BaseBindingActivity çš„ onCreate ä¸­ï¼Œè¿™é‡Œçš„ BaseBindingActivity æ˜¯ä¸€ä¸ªåŸºç±» Activityï¼Œ ä¸»è¦ä½œç”¨æ˜¯é€šè¿‡æ³›å‹+åå°„çš„æ–¹å¼å¯¹ ViewBinding è¿›è¡Œå°è£…ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">BaseBindingActivity</span>&lt;<span class="type">VB : ViewBinding</span>&gt; : <span class="type">FragmentActivity</span>() &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: VB</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Suppress(<span class="string">&quot;UNCHECKED_CAST&quot;</span>)</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">    <span class="keyword">val</span> type = javaClass.genericSuper<span class="keyword">class</span> <span class="title class_">as</span> <span class="title">ParameterizedType</span></span><br><span class="line">    <span class="keyword">val</span> clazz = type.actualTypeArguments[<span class="number">0</span>] <span class="keyword">as</span> Class&lt;VB&gt;</span><br><span class="line">    <span class="keyword">val</span> method = clazz.getMethod(<span class="string">&quot;inflate&quot;</span>, LayoutInflater::<span class="keyword">class</span>.java)</span><br><span class="line">    binding = method.invoke(<span class="literal">null</span>, layoutInflater) <span class="keyword">as</span> VB</span><br><span class="line">    setContentView(binding.root)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™åªéœ€æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹å³å¯è·å– ViewBinding çš„å®ä¾‹ï¼Œé¿å…äº†å†™å¤§é‡é‡å¤çš„æ¨¡ç‰ˆä»£ç ï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AndroidEntryPoint</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainActivity</span> : <span class="type">BaseBindingActivity</span>&lt;<span class="type">ActivityMainBinding</span>&gt;() &#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„å †æ ˆä¿¡æ¯ï¼Œæˆ‘ä»¬çŸ¥é“å´©æºƒçš„ä½ç½®å‘ç”Ÿåœ¨è¿™ä¸€è¡Œï¼š</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> type = javaClass.genericSuper<span class="keyword">class</span> <span class="title class_">as</span> <span class="title">ParameterizedType</span></span><br></pre></td></tr></table></figure>

<p>getGenericSuperclass() è·å–åˆ°çš„æ˜¯ä¸€ä¸ª Classï¼Œä¸æ˜¯ ParameterizedTypeï¼Œäºæ˜¯æŸ¥çœ‹ä¸€ä¸‹ getGenericSuperclass() æ–¹æ³•çš„å®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Type <span class="title function_">getGenericSuperclass</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Type</span> <span class="variable">genericSuperclass</span> <span class="operator">=</span> getSuperclass();</span><br><span class="line">    <span class="comment">// This method is specified to return null for all cases where getSuperclass</span></span><br><span class="line">    <span class="comment">// returns null, i.e, for primitives, interfaces, void and java.lang.Object.</span></span><br><span class="line">    <span class="keyword">if</span> (genericSuperclass == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">annotationSignature</span> <span class="operator">=</span> getSignatureAttribute();</span><br><span class="line">    <span class="keyword">if</span> (annotationSignature != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">GenericSignatureParser</span> <span class="variable">parser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GenericSignatureParser</span>(getClassLoader());</span><br><span class="line">        parser.parseForClass(<span class="built_in">this</span>, annotationSignature);</span><br><span class="line">        genericSuperclass = parser.superclassType;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Types.getType(genericSuperclass);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ†æå¯èƒ½æ˜¯ç”±äºæ²¡æœ‰æ‹¿åˆ° Class çš„ Signature ä¿¡æ¯ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›äº†çˆ¶ç±»çš„ Classã€‚å¯æ˜¯æˆ‘ä»¬çš„æ··æ·†æ–‡ä»¶ä¸­é›€é£Ÿå·²ç»é…ç½®äº† <code>-keepattributes Signature</code> ï¼Œå¹¶ä¸”æ’é™¤äº†æ··æ·†æ–‡ä»¶æ²¡ç”Ÿæ•ˆçš„æƒ…å†µï¼Œå› ä¸ºåŒ…åç±»åå·²ç»è¢«æ··æ·†çš„ğŸéƒ½ä¸è®¤è¯†äº†ï¼Œè¿™â„¢å°±å¾ˆç„å­¦ã€‚ä¸ºäº†å†æ¬¡ç¡®è®¤æ˜¯å› ä¸º Signature ä¿¡æ¯ä¸¢å¤±å¯¼è‡´çš„ï¼Œæˆ‘å°†æœªæ··æ·†å’Œæ··æ·†çš„ä¸¤ä¸ªåŒ…ä½¿ç”¨ jadx åç¼–è¯‘å¯¹æ¯”ä¸€ä¸‹ smali ä»£ç ï¼š</p>
<p><img src="/../img/%E4%BD%BF%E7%94%A8-ViewBinding-%E6%B7%B7%E6%B7%86%E5%90%8E-APP-%E7%82%B8%E4%BA%86%EF%BC%9F/20220819172636926.png" alt="20220819172636926"></p>
<p>å¯ä»¥å‘ç°æ··æ·†åçš„ç±»ä¸­çš„ Signature ä¿¡æ¯é›€é£Ÿä¸¢äº†ï¼</p>
<p>æ—¢ç„¶æ’é™¤äº†é¡¹ç›®é…ç½®çš„é—®é¢˜ï¼Œé‚£â€¦æœ‰æ²¡æœ‰å¯èƒ½æ˜¯ AGP æˆ–è€… R8 çš„ bug å‘€ï¼Ÿæ¯•ç«Ÿæ··æ·†ç›¸å…³çš„ task éƒ½åœ¨ AGP ä¸­å‘¢ï¼Ÿè€Œä¸”ä¹‹å‰å¦ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ AGP 4.2.2ï¼Œä¹Ÿå¼€å¯äº† R8 fullModeï¼Œå®Œå…¨æ²¡é—®é¢˜ã€‚äºæ˜¯å°è¯•æŠŠ AGP å›é€€åˆ° 4.2.2 ç‰ˆæœ¬ï¼Œæœç„¶å¥½äº†ï¼æˆ‘é€ï¼Œåƒåœ¾ Googleï¼Œæµªè´¹æˆ‘é’æ˜¥ï¼</p>
<p>å›é€€ç‰ˆæœ¬æ˜¯ä¸å¯èƒ½çš„ï¼Œå†å²çš„è½¦è½®æ»šæ»šå‘å‰ï¼Œæ€ä¹ˆèƒ½å€’é€€å‘¢ï¼å†µä¸”è¿˜æœ‰ä¸€äº› AGP çš„æ’ä»¶å·²ç»é€‚é… 7.x çš„ api äº†ï¼é‚£æ€ä¹ˆåŠå‘¢ï¼Œäºæ˜¯ä¸Š issuetracker æœäº†ä¸€ç•ªï¼Œå‘ç°æœ‰äººæäº†ä¸€ä¸ªç±»ä¼¼çš„é—®é¢˜ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://issuetracker.google.com/issues/188703877">R8 FullMode in AGP 7.0.0-beta01 transforming ParameterizedType implementations to Class</a></p>
<p>çœ‹äº†ä»–çš„æè¿°ï¼šå¼€äº† R8 fullModeï¼ŒgenericSuperclass æ˜¯ <code>Class&lt;Object&gt;</code>ï¼Œå…³äº† R8 fullMode æˆ–è€…å…³é—­ R8ï¼ŒgenericSuperclass æ˜¯ <code>ParameterizedType</code>ã€‚è¿™â„¢ä¸æ˜¯å’Œæˆ‘é‡åˆ°çš„æƒ…å†µä¸€æ ·å—ï¼Ÿä¸è¿‡ä»–çš„ AGP ç‰ˆæœ¬æ˜¯ 7.0.0-beta01ï¼Œä½†æ˜¯ google å®˜æ–¹äººå‘˜åœ¨ä¸‹é¢å›å¤äº†ï¼š <em>Status: Wonâ€™t Fix (Intended Behavior)</em> ã€‚é‚£ä¹ˆæˆ‘ä»¬ç”¨çš„ AGP 7.2.0 æ˜¯ä¸æ˜¯ä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå’±ä¹Ÿå…³äº† fullMode è¯•è¯•ã€‚è¯•è¯•å°±é€ä¸–ï¼æ²¡å•¥åµç”¨ï¼Œè¿˜æ˜¯åŒæ ·çš„é”™è¯¯ã€‚</p>
<p>æ²¡åŠæ³•ï¼Œåªå¥½ debug åˆ†æä¸€ä¸‹ï¼š</p>
<p><img src="/../img/%E4%BD%BF%E7%94%A8-ViewBinding-%E6%B7%B7%E6%B7%86%E5%90%8E-APP-%E7%82%B8%E4%BA%86%EF%BC%9F/1660898715385.png" alt="1660898715385"></p>
<p>çœ‹åˆ°è¿™é‡Œæ‰æç„¶å¤§æ‚Ÿï¼Œè™½ç„¶ Signature ä¿¡æ¯ä¸¢å¤±äº†ï¼Œç›´æ¥è¿”å›äº† MainActivity çˆ¶ç±»çš„ Classï¼Œä½†æ˜¯è¿™ä¸ª Class å¹¶ä¸æ˜¯ BaseBindingActivityï¼Œè€Œæ˜¯ä¸€ä¸ª Hilt_MainActivityã€‚ç”±äºé¡¹ç›®ä¸­ä¹Ÿä½¿ç”¨åˆ°äº† Hiltï¼Œå¹¶ä¸”åœ¨ MainActivity ä¸ŠåŠ äº† <code>AndroidEntryPoint</code> çš„æ³¨è§£ï¼Œæ‰€ä»¥ Hilt åœ¨æ³¨è§£å¤„ç†é˜¶æ®µä¼šè‡ªåŠ¨ç”Ÿæˆ Hilt_MainActivity è¿™ä¸ªç±»ã€‚é‚£ä¹ˆ Signature ä¸¢å¤±æœ‰æ²¡æœ‰å¯èƒ½æ˜¯ Hilt å¯¼è‡´çš„å‘¢ï¼Ÿ</p>
<blockquote>
<p>This annotation will generate a base class that the annotated class should extend, either directly or via the Hilt Gradle Plugin. This base class will take care of injecting members into the Android class as well as handling instantiating the proper Hilt components at the right point in the lifecycle. The name of the base class will be â€œHilt_<annotated class name>â€œ</p>
</blockquote>
<p>å†é€›é€› issuetrackerï¼Œåˆå‘ç°äº†æœ‰ä¸ªäººæçš„ä¸€ä¸ª issueï¼Œè¿™ä¸ª issue å’Œæˆ‘é‡åˆ°çš„ä¸èƒ½è¯´ä¸€æ ·ï¼Œç®€ç›´å°±æ˜¯å®Œå…¨ä¸€æ ·ï¼</p>
<p><a target="_blank" rel="noopener" href="https://issuetracker.google.com/issues/216194181#comment15">R8 erase generic type on Activity cause reflect cast exception in fullMode</a></p>
<p>çœ‹å®Œè¿™ä¸ª issue çš„æ‰€æœ‰è¯„è®ºï¼Œè‡³æ­¤ï¼Œå…¶å®é—®é¢˜å·²ç»è§£å†³äº†ï¼Œæ˜¯ hilt çš„ bugï¼è¯¦æƒ…è§ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://github.com/google/dagger/issues/3094">[Hilt] Incorrect signature attribute?</a></p>
<p>è¿™ä¸ªé—®é¢˜åœ¨ hilt 2.41 ç‰ˆæœ¬è¢«ä¿®å¤äº†ï¼š</p>
<blockquote>
<p>Fix an issue where Hilt transform was not correctly updating the Signature attribute of an <code>@AndroidEntryPoint</code> whose superclass contained a type variable. </p>
</blockquote>
<p>æˆ‘ä»¬çŸ¥é“äº† Hlit åœ¨æ³¨è§£å¤„ç†é˜¶æ®µä¼šç»™è¢« <code>AndroidEntryPoint</code> æ³¨è§£çš„ç±»ç”Ÿæˆå¯¹åº”çš„ Hilt_ <annotated class name> ç±»ï¼Œç„¶å Hilt çš„ Plugin ä¼šåœ¨ç¼–è¯‘é˜¶æ®µä¿®æ”¹ç›¸å…³ç±»çš„å­—èŠ‚ç ï¼Œå°†è¢« <code>AndroidEntryPoint</code> æ³¨è§£çš„ç±»çš„åŸºç±»æ”¹ä¸º Hilt_ <annotated class name>ï¼Œä½†æ˜¯æœ‰ bug çš„ç‰ˆæœ¬åœ¨ visit è¢« <code>AndroidEntryPoint</code> æ³¨è§£çš„ç±»çš„æ—¶å€™ï¼Œæ²¡æœ‰æ›´æ–°ç±»çš„ Signature ä¿¡æ¯ï¼Œä»è€Œå¯¼è‡´ Signatue ä¿¡æ¯ä¸¢å¤±ã€‚å…·ä½“å¯ä»¥ç‚¹å‡»<a target="_blank" rel="noopener" href="https://github.com/google/dagger/pull/3096/commits/c3ff9f85b842d3d09fd6b70870b4aede87416761">è¿™é‡Œ</a>æŸ¥çœ‹ç›¸å…³æ”¹åŠ¨ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ hilt 2.40.1ï¼Œæ­£æ˜¯æœ‰é—®é¢˜çš„ç‰ˆæœ¬ï¼å‡çº§ hilt ç‰ˆæœ¬ï¼Œæå®šï¼ä¸‹ç­ï¼</p>
<h2 id="3-R8-full-mode"><a href="#3-R8-full-mode" class="headerlink" title="3. R8 full mode"></a>3. R8 full mode</h2><p>Q: Will R8 strip the signature even if I have <code>-keepattributes Signature</code> set in my rules?</p>
<p>A: Yes, R8 in full-mode will strip all signatures for not-kept classes if using <code>-keepattributes Signature</code>. The only way to keep the generic signature for a class is if you keep it.</p>
<h2 id="4-Proguard"><a href="#4-Proguard" class="headerlink" title="4. Proguard"></a>4. Proguard</h2><p>å¦‚æœä¸æƒ³ä½¿ç”¨ R8ï¼Œå¯ä»¥å…³é—­ minifyEnabledï¼Œç›´æ¥ä½¿ç”¨ Proguard æ’ä»¶ã€‚</p>
<p>è§£å†³é—®é¢˜çš„é€”ä¸­ï¼Œæˆ‘æ›¾è¯•å›¾å¼ƒç”¨ R8ï¼Œä½¿ç”¨ Proguard ä»£æ›¿ï¼Œä½†æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œå¹¶ä¸” issue è¿˜æ˜¯å¼€å¯çŠ¶æ€ï¼Œåªå¥½æ”¾å¼ƒã€‚</p>
<h2 id="5-reference"><a href="#5-reference" class="headerlink" title="5. reference"></a>5. reference</h2><ol>
<li><a target="_blank" rel="noopener" href="https://issuetracker.google.com/issues/188703877">https://issuetracker.google.com/issues/188703877</a></li>
<li><a target="_blank" rel="noopener" href="https://issuetracker.google.com/issues/216194181">https://issuetracker.google.com/issues/216194181</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/google/dagger/issues/3094">https://github.com/google/dagger/issues/3094</a></li>
<li><a target="_blank" rel="noopener" href="https://r8.googlesource.com/r8/+/refs/heads/main/compatibility-faq.md">https://r8.googlesource.com/r8/+/refs/heads/main/compatibility-faq.md</a></li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/AGPVersions">https://twitter.com/AGPVersions</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Guardsquare/proguard/issues/196">https://github.com/Guardsquare/proguard/issues/196</a></li>
</ol>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    

                    

                    
                        <li>
                            <a href="https://github.com/porum" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    

                    
                </ul>
                <p class="copyright text-muted">&copy; 2023 porum<br></p>
                <p class="copyright text-muted">Original Theme <a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a> from <a href="http://startbootstrap.com/" target="_blank">Start Bootstrap</a></p>
                <p class="copyright text-muted">Adapted for <a target="_blank" href="https://hexo.io/">Hexo</a> by <a href="http://www.codeblocq.com/" target="_blank">Jonathan Klughertz</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->



</body>

</html>